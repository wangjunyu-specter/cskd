<ion-view view-title="修改资料">
  <ion-content padding="true">
    <form name="form" novalidate>

      <div class="list">
        <label class="item item-input item-stacked-label">
          <span class="input-label">用户名*</span>
          <input type="text" ng-model="user.name" placeholder="John" name="name" required>
          <span class="error" ng-show="form.name.$touched && form.name.$invalid ">
            <span ng-show="form.name.$error.required">请输入用户名</span>
          </span>
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">手机号*</span>
          <input type="number" name="tel" ng-model="user.tel" ng-pattern="/^1(3|4|5|7|8)\d{9}$/" placeholder="18600000000" required>
          <span class="error" ng-show="form.tel.$touched && form.tel.$invalid">
            <span ng-show="form.tel.$error.pattern">请输入正确得手机号</span>
          </span>
        </label>
        <label class="item item-input item-stacked-label">
          <span class="input-label">邮箱</span>
          <input type="email" ng-model="user.email" name="email" placeholder="john@suhr.com">
          <span class="error" ng-show="form.email.$touched && form.email.$invalid">
            <span ng-show="form.email.$error.email">请输入正确的邮箱</span>
          </span>
        </label>
        <ion-radio ng-model="user.choice" ng-value="A">男</ion-radio>
        <ion-radio ng-model="user.choice" ng-value="B">女</ion-radio>
        <div class="item item-input-inset">
          <label class="item-input-wrapper">
            <input type="text" placeholder="Email" name="yzm" ng-model="user.yzm" ng-pattern="/^\d{4}$/" required>
          </label>
          <button class="button button-small" ng-click="subyzm()">
            验证码
          </button>
          <span class="error" ng-show="form.yzm.$touched && form.yzm.$invalid">
            <span ng-show="form.yzm.$error.required">请输入验证码</span>
            <span ng-show="form.yzm.$error.pattern">验证码格式错误</span>
          </span>
          <span ng-show="form.yzm.$touched && user.yzm != resyzm">请输入正确的验证码</span>
        </div>
      </div>
      <button class="button my-bottom-button" ng-click="submit()" ng-disabled="
      form.name.$invalid || form.email.$invalid || form.tel.$invalid || form.yzm.$invalid">提交修改</button>
    </form>
  </ion-content>
</ion-view>
